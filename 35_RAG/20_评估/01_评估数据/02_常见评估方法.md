## 3.1 开放域问答测试（NQ, HPQA, TriviaQA）

测试的详细描述：

- Natural Questions (NQ)：这个数据集由Google创建，模拟了真实世界中用户对于搜索引擎的问答查询。NQ要求模型不仅要理解问题，还要从给定的维基百科页面中找到准确的答案，这个过程中涉及到对大量文本的理解和信息检索能力。
- HotpotQA (HPQA)：HPQA是一个问答数据集，它要求模型从多个文档中检索信息以生成答案。与NQ相比，HPQA更强调模型的多文档检索和推理能力，因为正确答案通常分布在多个文档中。
- TriviaQA：这个数据集包含大量的问题和答案对，以及与每个问题相关联的证据文档集合。TriviaQA考验模型能否从大量可能的文档中检索到正确的信息，并据此生成答案。

## 3.2 忠实度测试（HaluEvalQA, TruthfulQA）

RAG 2.0在忠实度测试中的性能是衡量其可靠性和准确性的关键指标。忠实度测试主要通过HaluEvalQA和TruthfulQA两个数据集来执行，它们评估模型在生成回答时是否能够忠实于检索到的证据，并且避免产生与事实不符的“幻觉”回答。

1. HaluEvalQA：这个数据集设计用来测试模型是否能够基于检索到的证据生成回答。HaluEvalQA要求模型在生成回答时保持与检索到的文档的一致性，而不是依赖于常见的误解或错误的前提。

2. TruthfulQA：这个数据集包含了一系列问题，其中一些是人类可能会因为错误的信念或误解而给出错误答案的问题。TruthfulQA的目的是测量语言模型在生成答案时是否真实，即模型必须避免生成从模仿人类文本中学到的虚假答案。这个数据集特别关注模型是否能够抵抗生成那些在训练分布中具有高可能性的虚假陈述。

## 3.3 知识更新性测试（FreshQA）

FreshQA数据集上的表现，是衡量其处理最新信息能力的重要指标。FreshQA是一个专门设计来评估模型是否能够泛化并利用最新世界知识的数据集。这对于构建能够适应快速变化信息环境的生产级RAG系统至关重要。

在FreshQA测试中，模型需要展示出其不仅能够理解和回答基于当前知识的查询，还能够准确反映最近发生事件或最新数据的能力。这种测试对于模拟真实世界中用户期望系统能够提供最新、最相关回答的场景非常有帮助。

RAG 2.0通过使用最新的机器学习基础设施进行训练和部署，如Google Cloud的A3实例和H100 GPU，以及利用最新的网络技术，能够确保模型在处理这类任务时的准确性和效率。这表明RAG 2.0在设计上就考虑了对最新信息的快速适应和整合能力。

![](.05_RAG2.0_images/性能.png)

![](.05_RAG2.0_images/长上下文比较.png)

## 3.2 “Needle in a Haystack”基准测试

“Needle in a Haystack”基准测试是一种评估大型语言模型（LLMs）长文本信息提取能力的方法。这种测试通过在一段长文本中随机插入关键信息的不同位置，形成一个提示（prompt），然后测试模型是否能够从这段长文本中准确地提取出这些关键信息。这种方法可以反映LLM对长文本理解的基本能力。

Skywork/ChineseDomainModelingEval 数据集包含了多个领域的高质量中文文章,可用于进行这种"Needle in a Haystack"测试。测试过程包括:

下载数据集,将文件放置在指定目录下。

使用提供的评估脚本对LLM的预测结果进行评分。评分方法是计算预测值和参考值之间的Levenshtein距离,得分为100减去百分比损失。

可以使用可视化脚本对评估结果进行绘图分析。

此外，这项测试还被用来量化模型解析上下文以找到所需信息的能力。例如，研究发现ChatGPT-4在这一领域的表现是行业领先的。这表明“Needle in a Haystack”基准测试不仅关注模型的文本处理能力，还关注其在复杂情境下的信息检索和理解能力。

在进行“Needle in a Haystack”测试时，可能会涉及到不同的嵌入深度和上下文长度，以及使用S型分布进行迭代分析等技术细节。这些细节的设计旨在使测试更加全面和多样化，从而更准确地评估模型的性能。

“Needle in a Haystack”基准测试是一个重要的工具，用于评估和比较不同大型语言模型在处理长文本信息提取任务上的能力。通过这种测试，研究人员和开发者可以更好地理解模型的性能，并指导未来的模型改进方向。

## 3.3 准确性和计算效率

RAG 2.0的动态检索能力是其另一个关键优势。与传统的静态模型相比，RAG 2.0能够根据问题的上下文动态地利用检索到的信息，这不仅增强了输出的相关性，也提高了模型在处理大量文本时的准确度和效率。

# 参考

[1] RAG 2.0，https://mp.weixin.qq.com/s/5_-Z0r0DfAfiJ4JuI1225g
