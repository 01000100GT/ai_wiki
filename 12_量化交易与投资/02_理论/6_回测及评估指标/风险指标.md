# 风险指标计算
1. 策略收益：P是账户资金在一段时间内的变化。
    ```
    (Pend - Pstart) / Pstart * 100%
    ```

2. 年化收益：    
   如果测试周期小于1年，则是一个折算值，
   有可能比实际年化少，((1+P)^(250/n) - 1) * 100%，P是策略收益，
   n可以认为是交易日，一年250天

3. Beta：   
   衡量策略收益和基准收益的关系，常用上证指数作为基准，如果基准收益上涨1%，
   策略收益上涨1.5%，则Beta为1.5，反之为-1.5。如果市场状态良好，则越大越好，
   反之，越小越好。公式如下：
    ```
       Beta = Cov(Dp, Dm) / Var(Dm)
    ```
    &emsp;&emsp;COV：协方差，Var：方差
   
4. Alpha:      
   非系统性风险，代表和市场波动无关的收益。比如，策略收益为20%，基准收益为10%，则Alpha为
   10%。Alpha计算公式如下：
    ```
       Alpha = Rp - [Rf + Beta * (Rm - Rf)]
    ```
    * Rp: 策略年化收益
    * Rm：基准收益
    * Beta：上述3中计算的值
    * Rf: 无风险利率，可以银行定期存款利率作为基准，通常设为4%。

5. Sharp率：   
   表示每承担一个风险所获得的无风险收益。值越大，表示承担越多风险，收益越大。反之亦然。
   通常，该值越大越好。计算公式如下：
    ```
        Sharp Ratio = (Rp - Rf) / Sigma(p)
    ```
    * Rp: 策略年化收益
    * Rf: 无风险利率，可以银行定期存款利率作为基准，通常设为4%。
    * Sigma(p): 策略收益的波动率(策略收益的年化标准差) 

6. 最大回撤：       
   回撤指的是一段时间内下跌的幅度。表示策略最大损失，该值越小越好。
   有些库采用正值，有些采用负值表示，都是一个意思。对于投资者来说，回撤数值越大，
   价值回落的就越多，越在高点买入，亏损的可能性就越大。计算公式如下：
    ```
       max_draw_down = (Px-Py)/Px
    ```
    &emsp;&emsp;Px, Py: 一段时间内资产的最高和最低值。

7. Sortino率：      
   评估策略亏损的风险，比率越高越好。公式如下：
    ```
        Sortino Ratio = (Rp - Rf) / Sigma(d)
    ```
    * Rp: 策略年化收益
    * Rf: 无风险利率，可以银行定期存款利率作为基准，通常设为4%。
    * Sigma(d): 策略下行波动率

8. 胜率：    
   即获胜的概率，比如10次交易中8次是盈利的，那么胜率就是80%。

9. 盈亏比   
   在一段交易时间内，如果盈利12000，亏损8000，则比率为1.5。

10. 最大连续亏损     
   在一段交易时间内，连续亏损的最大值。
